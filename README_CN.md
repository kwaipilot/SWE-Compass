# ğŸ§  SWE-Compassï¼šé¢å‘çœŸå®è½¯ä»¶å·¥ç¨‹çš„é«˜è¦†ç›–åŸºå‡†æµ‹è¯•æ¡†æ¶

[ğŸ‡ºğŸ‡¸ English ](README.md) [ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡](README_CN.md)

å½“å‰é’ˆå¯¹è½¯ä»¶å·¥ç¨‹çš„ LLM è¯„æµ‹å­˜åœ¨è¯¸å¤šå±€é™ï¼Œä¾‹å¦‚ä»»åŠ¡ç±»å‹å•ä¸€ã€åå‘ Pythonã€éš¾ä»¥åæ˜ çœŸå®å¼€å‘æµç¨‹ã€‚
ä¸ºå¼¥è¡¥è¿™äº›ä¸è¶³ï¼ŒSWE-Compass æ„å»ºäº†ä¸€ä¸ª**é«˜è¦†ç›–ã€å¤šç»´åº¦ã€å·¥ç¨‹åŒ–å¯¹é½çš„ç»Ÿä¸€è¯„æµ‹æ¡†æ¶**ï¼š

* âœ¨ è¦†ç›– **8 ç±»è½¯ä»¶å·¥ç¨‹ä»»åŠ¡ã€8 ç§ç¼–ç¨‹åœºæ™¯ã€10 ç§ç¼–ç¨‹è¯­è¨€**
* âœ¨ åŒ…å« **2000 æ¡æ¥è‡ªçœŸå® GitHub Pull Request çš„é«˜è´¨é‡å®ä¾‹**
* âœ¨ æ•°æ®ç»è¿‡ç³»ç»ŸåŒ–è¿‡æ»¤ä¸éªŒè¯ï¼Œç¡®ä¿å¯é æ€§ä¸å¤šæ ·æ€§
* âœ¨ æ”¯æŒä»»åŠ¡ç±»å‹ã€è¯­è¨€ã€åœºæ™¯ç­‰å¤šç»´åº¦çš„æ€§èƒ½æ¯”è¾ƒ

é€šè¿‡ç»Ÿä¸€å¼‚æ„ä»£ç ä»»åŠ¡ä¸çœŸå®å·¥ç¨‹å®è·µï¼ŒSWE-Compass æä¾›äº†ä¸€ä¸ª**å¯å¤ç°ã€ä¸¥è°¨ã€é¢å‘ç”Ÿäº§ç¯å¢ƒçš„è¯„æµ‹åŸºå‡†**ï¼Œç”¨äºè¯Šæ–­å’Œæå‡å¤§æ¨¡å‹çš„è½¯ä»¶å·¥ç¨‹èƒ½åŠ›ã€‚

---

# ğŸ“š æ•°æ®é›†ä¸è®ºæ–‡

* æ•°æ®é›†ï¼ˆHuggingFaceï¼‰ï¼š
  ğŸ‘‰ [https://huggingface.co/datasets/Kwaipilot/SWE-Compass](https://huggingface.co/datasets/Kwaipilot/SWE-Compass)

* è®ºæ–‡ï¼ˆarXivï¼‰ï¼š
  ğŸ‘‰ [https://arxiv.org/abs/2511.05459](https://arxiv.org/abs/2511.05459)

---

# âœ¨ ç‰¹æ€§æ‘˜è¦

* âš™ï¸ è‡ªåŠ¨åŒ– Docker è¯„æµ‹ç¯å¢ƒç®¡ç†
* ğŸ“¦ å¤šé¡¹ç›®ã€å¤šä»»åŠ¡ã€å¤šè¯­è¨€
* ğŸ¤– æ”¯æŒæ¨¡å‹ç”Ÿæˆè¡¥ä¸ï¼ˆpatchï¼‰çš„æ‰§è¡Œä¸è¯„æµ‹
* ğŸ“Š è¾“å‡ºå¤šç»´è¯„æµ‹æŒ‡æ ‡ï¼šä»»åŠ¡ç±»å‹ã€åœºæ™¯ã€è¯­è¨€
* ğŸŒŸ å¯é€‰æ¥å…¥ LLM Judge è¯„ä¼°ä»£ç ç†è§£èƒ½åŠ›
* ğŸ”„ é«˜åº¦å¯å¤ç°ã€é¢å‘ç ”ç©¶å’Œç”Ÿäº§åº”ç”¨

---

# ğŸ“¦ 1. ç¯å¢ƒå‡†å¤‡

### 1.1 å®‰è£… Docker

å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š
[https://docs.docker.com/engine/install/](https://docs.docker.com/engine/install/)

### 1.2 å®‰è£… Python 3.11 ä¸ä¾èµ–

è¿›å…¥é¡¹ç›®ç›®å½•å¹¶æ‰§è¡Œï¼š
```bash
cd SWE-Compass
pip install -e .
pip install -r requirements.txt
```

---

# ğŸ³ 2. ä¸‹è½½è¯„æµ‹æ‰€éœ€ Docker é•œåƒå’Œè¯„æµ‹è¡¥å……æ•°æ®å…¨é›†

è¿›å…¥é¡¹ç›®ç›®å½•å¹¶æ‰§è¡Œï¼š

```bash
cd SWE-Compass
bash pull_docker.sh
python download_all_data.py
```

è„šæœ¬å°†è‡ªåŠ¨ä» DockerHub æ‹‰å–è¯„æµ‹ç¯å¢ƒã€‚

---

# ğŸ“„ 3. å‡†å¤‡é¢„æµ‹æ•°æ®ï¼ˆPredictionsï¼‰

ä½ éœ€è¦å‡†å¤‡ä¸€ä¸ª JSON æ–‡ä»¶ï¼Œå°†æ¯ä¸ª `instance_id` æ˜ å°„åˆ°å…¶è¡¥ä¸ä¸æ¥æºä¿¡æ¯ã€‚

æ ¼å¼å¦‚ä¸‹ï¼ˆç¤ºä¾‹è§ `SWE-Compass/data/example.json`ï¼‰ï¼š

```json
{
  "<instance_id>": {
    "model_name_or_path": "<your_model_name>",
    "instance_id": "<instance_id>",
    "model_patch": "<your_model_patch>"
  }
}
```

> æ¯æ¡é¢„æµ‹æ•°æ®åªéœ€åŒ…å«ä¸‰ä¸ªå­—æ®µï¼š
> `model_name_or_path`ã€`instance_id`ã€`model_patch`

---

# â–¶ï¸ 4. è¿è¡Œè¯„æµ‹

### 4.1 åŸºæœ¬å‘½ä»¤

```bash
cd SWE-Compass
python validation.py \
  --dataset_name ./data/swecompass_all_2000.jsonl \
  --predictions_path <ä½ çš„é¢„æµ‹æ•°æ®.json> \
  --max_workers <å¹¶å‘æ•°> \
  --run_id <è¿è¡Œç¼–å·> \
  --model_name <judgeæ¨¡å‹åç§°> \
  --api_key <judgeæ¨¡å‹API Key> \
  --base_url <judgeæ¨¡å‹API URL> \
  --proxy <ä»£ç†åœ°å€>
```

### 4.2 ç¤ºä¾‹

```bash
python validation.py \
  --dataset_name ./data/swecompass_all_2000.jsonl \
  --predictions_path ./data/example.json \
  --max_workers 10 \
  --run_id test \
  --model_name deepseek_v3 \
  --api_key xxx \
  --base_url xxx \
  --proxy http ... 
```

---

# ğŸ“Š 5. è¾“å‡ºç»“æœ


---

## 5.1 è¿è¡Œæ—¥å¿—ç›®å½•

```
SWE-Compass/output/work/<run_id>/
```

åŒ…å«æ¯ä¸ªå®ä¾‹çš„æ‰§è¡Œè¿‡ç¨‹ä¸æ—¥å¿—ã€‚

---

## 5.2 è¯„æµ‹ç»“æœç›®å½•

```
SWE-Compass/output/result/<run_id>/
```

åŒ…å«ä¸¤ä¸ªæ–‡ä»¶ï¼š

| æ–‡ä»¶               | å†…å®¹             |
| ---------------- | -------------- |
| `raw_data.jsonl` | æ¯ä¸ªå®ä¾‹çš„åŸå§‹è¯„æµ‹ç»“æœ    |
| `result.json`    | æ±‡æ€»åçš„ä»»åŠ¡/è¯­è¨€/åœºæ™¯åˆ†æ•° |

---

# âš™ï¸ 6. å¸¸ç”¨å‚æ•°è¯´æ˜

| å‚æ•°                   | è¯´æ˜            |
| -------------------- | ------------- |
| `--dataset_name`     | æ•°æ®é›†è·¯å¾„         |
| `--predictions_path` | æ¨¡å‹é¢„æµ‹ JSON æ–‡ä»¶  |
| `--max_workers`      | å¹¶å‘æ•°           |
| `--run_id`           | è¿è¡Œç¼–å·          |
| `--model_name`       | Judge LLM æ¨¡å‹å     |
| `--api_key`          | Judge LLM API Key |
| `--base_url`         | Judge LLM API URL |
| `--proxy`            | ä»£ç†åœ°å€     |


# ğŸ¤ 7. è´¡çŒ®ä¸åˆä½œ

æˆ‘ä»¬æ¬¢è¿æ¥è‡ª NLPã€æœºå™¨å­¦ä¹ ä¸è½¯ä»¶å·¥ç¨‹é¢†åŸŸçš„ç ”ç©¶è€…å‚ä¸æœ¬é¡¹ç›®çš„æ”¹è¿›ä¸æ‹“å±•ã€‚  
æ‚¨å¯ä»¥é€šè¿‡æäº¤ issue æˆ– pull request çš„å½¢å¼ï¼Œæå‡ºé—®é¢˜ã€å»ºè®®æˆ–æ–°çš„ç ”ç©¶æ–¹å‘ã€‚

å¦‚æœ‰åˆä½œæ„å‘æˆ–è¿›ä¸€æ­¥äº¤æµï¼Œæ¬¢è¿è”ç³»ï¼š

- **å¾æ™¯å®£** â€” xujingxuan2002@163.com  
- **é‚“è‚¯** â€” dengken@kuaishou.com  
- **åˆ˜ä½³æ’** â€” liujiaheng@nju.edu.cn  

æˆ‘ä»¬æœŸå¾…ä¸å­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œå…±åŒæ¨è¿›å¤§å‹è¯­è¨€æ¨¡å‹åœ¨è½¯ä»¶å·¥ç¨‹ä»»åŠ¡ä¸Šçš„ç ”ç©¶å‘å±•ã€‚
